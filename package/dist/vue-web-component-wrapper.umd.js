(function(i,p){typeof exports=="object"&&typeof module<"u"?p(exports):typeof define=="function"&&define.amd?define(["exports"],p):(i=typeof globalThis<"u"?globalThis:i||self,p(i.Vue3WebComponentWrapper={}))})(this,function(i){"use strict";const p=e=>{for(;(e==null?void 0:e.nodeType)!==1;){if(!e.parentElement)throw new Error("No parent element found, the rootComponent must be wrapped in a HTML element (e.g. <template><div> app content </div></template>)");e=e.parentElement}return e};function w(e){return"on"+e.charAt(0).toUpperCase()+e.slice(1)}const O=({rootComponent:e,plugins:a,cssFrameworkStyles:l,VueDefineCustomElement:_,h:s,createApp:c,getCurrentInstance:d,elementName:m,disableRemoveStylesOnUnmount:f})=>_({styles:[l],props:{...e.props,modelValue:{type:[String,Number,Boolean,Array,Object]}},emits:e.emits,setup(E){var b;const v=[...e.emits,"update:modelValue"],n=c();n.component("app-root",e),n.mixin({mounted(){var o;const t=r=>{r!=null&&r.length&&(this.__style=document.createElement("style"),this.__style.innerText=r.join().replace(/\n/g,""),p(this.$el).prepend(this.__style))};if(t((o=this.$)==null?void 0:o.type.styles),this.$options.components)for(const r of Object.values(this.$options.components))t(r.styles)},unmounted(){var t;f||(t=this.__style)==null||t.remove()}}),n.use(a);const u=d();if(Object.assign(u.appContext,n._context),Object.assign(u.provides,n._context.provides),process.env.NODE_ENV==="development"&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__){const t=document.querySelector(m);n._container=t,n._instance=u;const o={Comment:Symbol("v-cmt"),Fragment:Symbol("v-fgt"),Static:Symbol("v-stc"),Text:Symbol("v-txt")};window.__VUE_DEVTOOLS_GLOBAL_HOOK__.emit("app:init",n,n.version,o),window.__VUE_DEVTOOLS_GLOBAL_HOOK__.Vue=n}const h=v==null?void 0:v.reduce((t,o)=>{const r=w(o);return t[r]=V=>{u.emit(o,V)},t},{}),S=(b=e==null?void 0:e.namedSlots)==null?void 0:b.reduce((t,o)=>(t[o]=()=>s("slot",{name:o}),t),{});return()=>s(e,{...E,...h},{default:()=>s("slot"),...S})}}),y=({elementName:e,rootComponent:a,plugins:l,cssFrameworkStyles:_,VueDefineCustomElement:s,h:c,createApp:d,getCurrentInstance:m,disableRemoveStylesOnUnmount:f})=>{if(!a){console.warn("No root component provided. Please provide a root component to create a web component.");return}if(!e){console.warn("No element name provided. Please provide an element name to create a web component.");return}if(!s){console.warn("No VueDefineCustomElement provided. Please provide a VueDefineCustomElement to create a web component.");return}if(!c){console.warn("No h provided. Please provide an h to create a web component.");return}if(!d){console.warn("No createApp provided. Please provide a createApp to create a web component.");return}if(!m){console.warn("No getCurrentInstance provided. Please provide a getCurrentInstance to create a web component.");return}customElements.define(e,O({rootComponent:a,plugins:l,cssFrameworkStyles:_,VueDefineCustomElement:s,h:c,createApp:d,getCurrentInstance:m,elementName:e,disableRemoveStylesOnUnmount:f}))};i.createWebComponent=y,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
