(function(r,a){typeof exports=="object"&&typeof module<"u"?a(exports):typeof define=="function"&&define.amd?define(["exports"],a):(r=typeof globalThis<"u"?globalThis:r||self,a(r.Vue3WebComponentWrapper={}))})(this,function(r){"use strict";const a=e=>{for(;(e==null?void 0:e.nodeType)!==1;){if(!e.parentElement)throw new Error("No parent element found, the rootComponent must be wrapped in a HTML element (e.g. <template><div> app content </div></template>)");e=e.parentElement}return e};function w(e){return"on"+e.charAt(0).toUpperCase()+e.slice(1)}const O=({rootComponent:e,plugins:c,cssFrameworkStyles:m,VueDefineCustomElement:_,h:s,createApp:p,getCurrentInstance:d,elementName:u,disableRemoveStylesOnUnmount:f})=>_({styles:[m],props:{...e.props,modelValue:{type:[String,Number,Boolean,Array,Object]}},emits:e==null?void 0:e.emits,setup(E){var b;const v=[...(e==null?void 0:e.emits)||[],"update:modelValue"],n=p();n.component("app-root",e),n.mixin({mounted(){var o;const t=i=>{i!=null&&i.length&&(this.__style=document.createElement("style"),this.__style.innerText=i.join().replace(/\n/g,""),a(this.$el).prepend(this.__style))};if(t((o=this.$)==null?void 0:o.type.styles),this.$options.components)for(const i of Object.values(this.$options.components))t(i.styles)},unmounted(){var t;f||(t=this.__style)==null||t.remove()}}),n.use(c);const l=d();if(Object.assign(l.appContext,n._context),Object.assign(l.provides,n._context.provides),process.env.NODE_ENV==="development"&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__){const t=document.querySelector(u);n._container=t,n._instance=l;const o={Comment:Symbol("v-cmt"),Fragment:Symbol("v-fgt"),Static:Symbol("v-stc"),Text:Symbol("v-txt")};window.__VUE_DEVTOOLS_GLOBAL_HOOK__.emit("app:init",n,n.version,o),window.__VUE_DEVTOOLS_GLOBAL_HOOK__.Vue=n}const h=v==null?void 0:v.reduce((t,o)=>{const i=w(o);return t[i]=V=>{l.emit(o,V)},t},{}),S=(b=e==null?void 0:e.namedSlots)==null?void 0:b.reduce((t,o)=>(t[o]=()=>s("slot",{name:o}),t),{});return()=>s(e,{...E,...h},{default:()=>s("slot"),...S})}}),y=({elementName:e,rootComponent:c,plugins:m,cssFrameworkStyles:_,VueDefineCustomElement:s,h:p,createApp:d,getCurrentInstance:u,disableRemoveStylesOnUnmount:f})=>{if(!c){console.warn("No root component provided. Please provide a root component to create a web component.");return}if(!e){console.warn("No element name provided. Please provide an element name to create a web component.");return}if(!s){console.warn("No VueDefineCustomElement provided. Please provide a VueDefineCustomElement to create a web component.");return}if(!p){console.warn("No h provided. Please provide an h to create a web component.");return}if(!d){console.warn("No createApp provided. Please provide a createApp to create a web component.");return}if(!u){console.warn("No getCurrentInstance provided. Please provide a getCurrentInstance to create a web component.");return}customElements.define(e,O({rootComponent:c,plugins:m,cssFrameworkStyles:_,VueDefineCustomElement:s,h:p,createApp:d,getCurrentInstance:u,elementName:e,disableRemoveStylesOnUnmount:f}))};r.createWebComponent=y,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});
