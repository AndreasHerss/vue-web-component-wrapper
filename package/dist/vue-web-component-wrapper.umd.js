(function(s,c){typeof exports=="object"&&typeof module<"u"?c(exports):typeof define=="function"&&define.amd?define(["exports"],c):(s=typeof globalThis<"u"?globalThis:s||self,c(s.Vue3WebComponentWrapper={}))})(this,function(s){"use strict";const c=e=>{for(;(e==null?void 0:e.nodeType)!==1;){if(!e.parentElement)throw new Error("No parent element found, the rootComponent must be wrapped in a HTML element (e.g. <template><div> app content </div></template>)");e=e.parentElement}return e};function O(e){return"on"+e.charAt(0).toUpperCase()+e.slice(1)}const w=({rootComponent:e,plugins:a,cssFrameworkStyles:f,VueDefineCustomElement:m,h:o,createApp:p,getCurrentInstance:d,elementName:u,disableRemoveStylesOnUnmount:v})=>m({styles:[f],props:{...e.props,modelValue:{type:[String,Number,Boolean,Array,Object]}},emits:e==null?void 0:e.emits,setup(E){var b;const _=[...(e==null?void 0:e.emits)||[],"update:modelValue"],i=p();if(i.component("app-root",e),e.provide){const t=typeof e.provide=="function"?e.provide():e.provide;Object.keys(t).forEach(n=>{i.provide(n,t[n])})}i.mixin({mounted(){var n;const t=r=>{r!=null&&r.length&&(this.__style=document.createElement("style"),this.__style.innerText=r.join().replace(/\n/g,""),c(this.$el).prepend(this.__style))};if(t((n=this.$)==null?void 0:n.type.styles),this.$options.components)for(const r of Object.values(this.$options.components))t(r.styles)},unmounted(){var t;v||(t=this.__style)==null||t.remove()}}),i.use(a);const l=d();if(Object.assign(l.appContext,i._context),Object.assign(l.provides,i._context.provides),process.env.NODE_ENV==="development"&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__){const t=document.querySelector(u);i._container=t,i._instance=l;const n={Comment:Symbol("v-cmt"),Fragment:Symbol("v-fgt"),Static:Symbol("v-stc"),Text:Symbol("v-txt")};window.__VUE_DEVTOOLS_GLOBAL_HOOK__.emit("app:init",i,i.version,n),window.__VUE_DEVTOOLS_GLOBAL_HOOK__.Vue=i}const h=_==null?void 0:_.reduce((t,n)=>{const r=O(n);return t[r]=V=>{l.emit(n,V)},t},{}),S=(b=e==null?void 0:e.namedSlots)==null?void 0:b.reduce((t,n)=>(t[n]=()=>o("slot",{name:n}),t),{});return()=>o(e,{...E,...h},{default:()=>o("slot"),...S})}}),y=({elementName:e,rootComponent:a,plugins:f,cssFrameworkStyles:m,VueDefineCustomElement:o,h:p,createApp:d,getCurrentInstance:u,disableRemoveStylesOnUnmount:v})=>{if(!a){console.warn("No root component provided. Please provide a root component to create a web component.");return}if(!e){console.warn("No element name provided. Please provide an element name to create a web component.");return}if(!o){console.warn("No VueDefineCustomElement provided. Please provide a VueDefineCustomElement to create a web component.");return}if(!p){console.warn("No h provided. Please provide an h to create a web component.");return}if(!d){console.warn("No createApp provided. Please provide a createApp to create a web component.");return}if(!u){console.warn("No getCurrentInstance provided. Please provide a getCurrentInstance to create a web component.");return}customElements.define(e,w({rootComponent:a,plugins:f,cssFrameworkStyles:m,VueDefineCustomElement:o,h:p,createApp:d,getCurrentInstance:u,elementName:e,disableRemoveStylesOnUnmount:v}))};s.createWebComponent=y,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});
